// Copyright 2025 VeyPatch (126267034+VeyPatch@users.noreply.github.com)
// SPDX-License-Identifier: GPL-2.0-or-later

#include QMK_KEYBOARD_H
#include "veypatch.h"

enum layers {
    _QWERTY = 0,
    _DVORAK,
    _COLEMAK,
    _SYM,
    _NAV,
    _FUNCTION,
    _ADJUST,
    _GAME,
};

// clang-format off
#define LAYOUT_wrapper(...)            LAYOUT(__VA_ARGS__)
#define LAYOUT_sofle_base( \
    K01, K02, K03, K04, K05,                     K06, K07, K08, K09, K0A, \
    K11, K12, K13, K14, K15,                     K16, K17, K18, K19, K1A, \
    K21, K22, K23, K24, K25,                     K26, K27, K28, K29, K2A, K2B,  \
    K31, K32, K33, K34, K35,                     K36, K37, K38, K39, K3A  \
  ) \
  LAYOUT_wrapper( \
  L0_WIDE, K01, K02, K03, K04, K05,                                                     K06, K07, K08, K09, K0A, R0_WIDE, \
  L1_WIDE, K11, K12, K13, K14, K15,                                                     K16, K17, K18, K19, K1A, R1_WIDE, \
  L2_WIDE , K21, K22, K23, K24, K25,                                                    K26, K27, K28, K29, K2A, K2B, \
  L3_WIDE, K31, K32, K33, K34, K35, KC_CAPS,                                    KC_F24, K36, K37, K38, K39, K3A, R3_WIDE, \
  WIDE_THUMB_L1, __________________THUMB_L1_________________, __________________THUMB_R1_________________, WIDE_THUMB_R1 \
  )
/* Re-pass though to allow templates to be used */
#define LAYOUT_base_wrapper(...)       LAYOUT_sofle_base(__VA_ARGS__)

const uint16_t PROGMEM keymaps[][MATRIX_ROWS][MATRIX_COLS] = {
    [_QWERTY] = LAYOUT_base_wrapper(
        ________________NUMBER_LEFT________________, ________________NUMBER_RIGHT_______________,
        _________________QWERTY_L1_________________, _________________QWERTY_R1_________________,
        _________________QWERTY_L2_________________, _________________QWERTY_R2_________________,
        _________________QWERTY_L3_________________, _________________QWERTY_R3_________________
    ),
    [_DVORAK] = LAYOUT_base_wrapper(
        ________________NUMBER_LEFT________________, ________________NUMBER_RIGHT_______________,
        _________________DVORAK_L1_________________, _________________DVORAK_R1_________________,
        _________________DVORAK_L2_________________, _________________DVORAK_R2_________________,
        _________________DVORAK_L3_________________, _________________DVORAK_R3_________________
    ),
    [_COLEMAK] = LAYOUT_base_wrapper(
        ________________NUMBER_LEFT________________, ________________NUMBER_RIGHT_______________,
        _________________COLEMAK_L1________________, _________________COLEMAK_R1________________,
        _________________COLEMAK_L2________________, _________________COLEMAK_R2________________,
        _________________COLEMAK_L3________________, _________________COLEMAK_R3________________
    ),
    [_SYM] = LAYOUT_wrapper(
        _______, ___________________BLANK___________________,                                     ___________________BLANK___________________, _______,
        _______, ________________SYMBOLS_L1_________________,                                     ________________SYMBOLS_R1_________________, _______,
        _______, ________________SYMBOLS_L2_________________,                                     ________________SYMBOLS_R2_________________, _______,
        _______, ________________SYMBOLS_L3_________________, _______,                   _______, ________________SYMBOLS_R3_________________, _______,
                          _______, _______, _______________SYM_THUMB_L1________________, _______________SYM_THUMB_R1________________, _______, _______

    ),
    [_NAV] = LAYOUT_wrapper(
        _______, ___________________BLANK___________________,                                     ___________________BLANK___________________, _______,
        _______, ________________NUMBER_LEFT________________,                                     ________________NUMBER_RIGHT_______________, _______,
        _______, _________________MEDIA_L2__________________,                                     ________________ARROWS_R2__________________, _______,
        _______, _________________MEDIA_L3__________________, _______,                   _______, ________________ARROWS_R3__________________, _______,
                          _______, _______, _______________NAV_THUMB_L1________________, _______________NAV_THUMB_R1________________, _______, MO(_GAME)
    ),
    [_FUNCTION] = LAYOUT_wrapper(
        _______, ___________________BLANK___________________,                                     ___________________BLANK___________________, _______,
        _______, _________________FUNC_L1___________________,                                     __________________NUM_R1___________________, NUM_R1_WIDE,
        _______, _________________FUNC_L2___________________,                                     __________________NUM_R2___________________, NUM_R2_WIDE,
        _______, _________________FUNC_L3___________________, _______,                   _______, __________________NUM_R3___________________, NUM_R3_WIDE,
                          _______, _______, _______________FUNC_THUMB_L1_______________, _______________FUNC_THUMB_R1_______________, NUM_EXTRA
    ),
    [_ADJUST] = LAYOUT_wrapper(
        _______, ___________________BLANK___________________,                                     ___________________BLANK___________________, _______,
        _______, __________________DF_L1____________________,                                     ___________________BLANK___________________, _______,
        _______, __________________DF_L2____________________,                                     __________________RGB_R1___________________, RGB_R1_WIDE,
        _______, __________________DF_L3____________________, _______,                   _______, __________________RGB_R2___________________, RGB_R2_WIDE,
                          _______, _______, _______________ADJ_THUMB_L1________________, _______________ADJ_THUMB_R1________________, _______, _______
    ),
    [_GAME] = LAYOUT_wrapper(
        L0_WIDE, ________________NUMBER_LEFT________________,                                     TG(_GAME), ________________NUMBER_RIGHT_______________,
        L1_WIDE, _________________QWERTY_L1_________________,                                     _______, __________________NUM_R1___________________,
        L2_WIDE, _________________QWERTY_L2_________________,                                    _______, __________________NUM_R2___________________,
        L3_WIDE, _________________QWERTY_L3_________________, _______,                   _______, KC_UP  , __________________NUM_R3___________________,
                          _______, KC_DEL , __________________THUMB_L1_________________, KC_LEFT, KC_DOWN, KC_RIGHT, NUM_EXTRA
    )
};
